@{
    // Used Table [Member]
    // 고객관리시스템 - 고객목록
    // 선행작업 - 관리자 로그인
    Layout = "~/Views/Shared/_LayoutKi4C_Aside_dg.cshtml";
    ViewData["Title"] = "기준정보 관리/진단 종류";
}
<!-- 섹션 -->
<section>
    <!-- 콘텐츠 -->
    <div id=contetns style="width: 100%;">
        <h2>진단 종류 등록</h2>
        <div style="float: right;">
            <a href="#">Home</a>
            &gt;
            <a href="#">기준 정보</a>
            &gt;
            진단 종류 등록
        </div>
        <br>
        <hr />
        <!-- 진단 종류 등록 -->
        <div style="padding-top: 30px; padding-left: 30px; height: 200px;">
            <a>진단종류코드: </a>
            <form style="padding-top: 10px; display: inline-block;">
                <input type="text"
                       style="max-width: 400px; width: 130%; height: 25px; font-size: 16px;
                        margin-bottom: 3px;" />
            </form>
            <br>
            <a>진단종류명: </a>
            <form style="padding-top: 10px; padding-left: 14px; display: inline-block;">
                <input type="text"
                       style="max-width: 400px; width: 130%; height: 25px; font-size: 16px;
                        margin-bottom: 3px;" />
            </form>
            <div style="padding-top: 30px; padding-left: 50px;">
                <input id="registButton" type="submit" value="등록" />
                <input id="modifyButton" type="submit" value="수정" />
            </div>
        </div>
        <!-- 진단 종류 등록 -->
        <hr />
        <!-- 진단 종류 목록 -->
        <div style="display: inline-block;">
            <div id="buttonLocation">
                <input type="text" placeholder="검색어 입력" />
                <button id="searchButton">검색</button>
            </div>
            <br>
            <div style="width: 90%; margin: auto;">
                <table id="table">
                    <tr align="center" bgcolor="skyblue">
                        <td>번호</td>
                        <td>진단종류코드</td>
                        <td>진단종류명</td>
                        <td>삭제</td>
                    </tr>
                    <tr align="center" bgcolor="white">
                        <td>1</td>
                        <td>A1</td>
                        <td>기업 기초 정보</td>
                        <td><input type="checkbox"></td>
                    </tr>
                    <tr align="center" bgcolor="white">
                        <td>2</td>
                        <td>A2</td>
                        <td>자체 진단</td>
                        <td><input type="checkbox"></td>
                    </tr>
                    <tr align="center" bgcolor="white">
                        <td>3</td>
                        <td>A3</td>
                        <td>전문가 진단</td>
                        <td><input type="checkbox"></td>
                    </tr>
                    <tr align="center" bgcolor="white">
                        <td>4</td>
                        <td>A4</td>
                        <td>기타</td>
                        <td><input type="checkbox"></td>
                        </td>
                    </tr>
                </table>
                <table id="DiagnosisTypeList">
                    <tr align="center" bgcolor="skyblue">
                        <td>번호</td>
                        <td>진단종류코드</td>
                        <td>진단종류명</td>
                        <td>삭제</td>
                    </tr>
                </table>
            </div>
            <div id="buttonLocation">
                <input id="deleteButton" type="submit" value="항목 삭제" />
            </div>
        </div>
        <!-- 진단 종류 목록 -->
        <!-- 콘텐츠 -->
</section>
<!-- 섹션 -->

<script>
    let DIagnosisTypeJS = {
        init : function () {
            let _this = this;
            $('#registButton').on('click', function () {
                _this.regist();
            });
            $('#modifyButton').on('click', function () {
                _this.modify();
            });
            $('#deleteButton').on('click', function () {
                _this.delete();
            });
        },
        regist : function () {
            alert('등록');
        },
        modify : function () {
            alert('수정');
        },
        delete : function () {
            alert('삭제');
        },
        DiagnosisTypeList : function () {
            //ajax GetAllDiagnosisType()
            //DiagnosisTypeList ajax Domain is DbManager.DIagnosisType url is /api/APIManagerStandardInforMgr/DiagnosisType/getAll
            $.ajax({
                type: 'GET',
                url: '/api/APIManagerStandardInforMgr/DiagnosisType/getAll',
                dataType: 'json',
                contentType: 'application/json; charset=utf-8'
            }).done(function (data) {
                let html = '';
                data.forEach(function(item) {
                    html += '<tr align="center" bgcolor="white">';
                    html += '<td>' + item.DiagnosisTypeNumber + '</td>';
                    html += '<td>' + item.DiagnosisTypeCode + '</td>';
                    html += '<td>' + item.DiagnosisTypeName + '</td>';
                    html += '<td><input type="checkbox" value = ' + item.DiagnosisTypeNumber + '></td>';
                    html += '</tr>';
                });
                $('#DiagnosisTypeList').append(html);
            }).fail(function (error) {
                alert(JSON.stringify(error));
            });

        },
    }


    $(document).ready(function () {
        DIagnosisTypeJS.init();
        DIagnosisTypeJS.DiagnosisTypeList();
    });

</script>